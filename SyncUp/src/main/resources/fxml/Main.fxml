<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<BorderPane prefHeight="768.0" prefWidth="1366.0" stylesheets="@/css/styles.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="co.edu.uniquindio.syncup.view.controllers.MainViewController">

    <center>
        <StackPane>
            <!-- Fondo con imagen -->
            <ImageView fitHeight="768.0" fitWidth="1366.0" preserveRatio="false">
                <image>
                    <Image backgroundLoading="true" smooth="true" url="https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=1920&amp;h=1080&amp;fit=crop&amp;q=80" />
                </image>
            </ImageView>

            <!-- Overlay oscuro -->
            <Pane style="-fx-background-color: rgba(0, 0, 0, 0.85);" />

            <HBox spacing="0">
                <!-- ==================== SIDEBAR IZQUIERDO ==================== -->
                <VBox prefWidth="240" spacing="0" style="-fx-background-color: rgba(24, 24, 24, 0.95); -fx-border-color: #1DB954; -fx-border-width: 0 2 0 0;">

                    <!-- Logo -->
                    <VBox alignment="CENTER" spacing="8" style="-fx-padding: 20 15 20 15; -fx-border-color: #282828; -fx-border-width: 0 0 1 0;">
                        <Label style="-fx-font-size: 40px;" text="ðŸŽµ" />
                        <Label style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #1DB954;" text="SyncUp" />
                    </VBox>

                    <!-- âœ… SCROLL PARA EL MENÃš CON ALTURA CONTROLADA -->
                    <ScrollPane fitToWidth="true" prefHeight="480" style="-fx-background-color: transparent; -fx-background: transparent;" VBox.vgrow="ALWAYS">
                        <VBox spacing="4" style="-fx-padding: 15 10 15 10;">
                            <Button fx:id="homeBtn" maxWidth="Infinity" onAction="#mostrarHome" prefHeight="45"
                                    styleClass="menu-button" text="ðŸ  Inicio" />

                            <Button fx:id="searchBtn" maxWidth="Infinity" onAction="#mostrarBuscar" prefHeight="45"
                                    styleClass="menu-button" text="ðŸ” Buscar" />

                            <Button fx:id="libraryBtn" maxWidth="Infinity" onAction="#mostrarBiblioteca" prefHeight="45"
                                    styleClass="menu-button" text="ðŸ“š Tu Biblioteca" />

                            <Separator style="-fx-background-color: #282828; -fx-padding: 5 0;" />

                            <Button fx:id="favoritesBtn" maxWidth="Infinity" onAction="#mostrarFavoritos" prefHeight="45"
                                    styleClass="menu-button" text="â¤ï¸ Favoritas" />

                            <Button fx:id="socialBtn" maxWidth="Infinity" onAction="#mostrarRedSocial" prefHeight="45"
                                    styleClass="menu-button" text="ðŸ‘¥ Red Social" />

                            <Button fx:id="recommendationsBtn" maxWidth="Infinity" onAction="#mostrarDescubrimiento" prefHeight="45"
                                    styleClass="menu-button" text="ðŸŽ¯ Descubre" />

                            <Button fx:id="radioBtn" maxWidth="Infinity" onAction="#mostrarRadio" prefHeight="45"
                                    styleClass="menu-button" text="ðŸ“» Mi Radio" />

                            <Button fx:id="profileBtn" maxWidth="Infinity" onAction="#mostrarPerfil" prefHeight="45"
                                    styleClass="menu-button" text="ðŸ‘¤ Perfil" />
                        </VBox>
                    </ScrollPane>

                    <!-- âœ… USUARIO Y CERRAR SESIÃ“N SIEMPRE VISIBLE -->
                    <VBox spacing="8" style="-fx-padding: 12; -fx-border-color: #282828; -fx-border-width: 1 0 0 0; -fx-background-color: rgba(18, 18, 18, 0.98);">
                        <HBox alignment="CENTER_LEFT" spacing="8">
                            <Label style="-fx-font-size: 20px;" text="ðŸ‘¤" />
                            <Label fx:id="usernameLabel" style="-fx-text-fill: #FFFFFF; -fx-font-size: 13px; -fx-font-weight: bold;" text="Usuario" />
                        </HBox>
                        <Button maxWidth="Infinity" onAction="#cerrarSesion" prefHeight="42"
                                style="-fx-background-color: #E91429; -fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"
                                text="ðŸšª Cerrar SesiÃ³n" />
                    </VBox>
                </VBox>

                <!-- ==================== CONTENIDO CENTRAL ==================== -->
                <BorderPane fx:id="contentArea" style="-fx-background-color: transparent;" HBox.hgrow="ALWAYS" />

            </HBox>
        </StackPane>
    </center>

    <!-- ==================== PLAYER BAR (BOTTOM) ==================== -->
    <bottom>
        <VBox style="-fx-background-color: rgba(24, 24, 24, 0.98); -fx-border-color: #1DB954; -fx-border-width: 2 0 0 0; -fx-padding: 12 20;">
            <HBox alignment="CENTER_LEFT" spacing="20">
                <!-- Info canciÃ³n actual -->
                <HBox alignment="CENTER_LEFT" prefWidth="280" spacing="12">
                    <VBox alignment="CENTER" prefHeight="50" prefWidth="50" style="-fx-background-color: #282828; -fx-background-radius: 8;">
                        <Label fx:id="playerIconLabel" style="-fx-font-size: 26px;" text="ðŸŽµ" />
                    </VBox>
                    <VBox spacing="2">
                        <Label fx:id="currentSongLabel" style="-fx-text-fill: #FFFFFF; -fx-font-size: 13px; -fx-font-weight: bold;" text="No hay canciÃ³n" />
                        <Label fx:id="currentArtistLabel" style="-fx-text-fill: #B3B3B3; -fx-font-size: 11px;" text="SyncUp Player" />
                    </VBox>
                </HBox>

                <!-- Controles centrales -->
                <HBox alignment="CENTER" spacing="12" HBox.hgrow="ALWAYS">
                    <Button prefHeight="38" prefWidth="38" styleClass="player-control" text="â®" />
                    <Button fx:id="playPauseBtn" prefHeight="42" prefWidth="42"
                            style="-fx-background-color: #1DB954; -fx-text-fill: white; -fx-font-size: 18px; -fx-background-radius: 21; -fx-cursor: hand;"
                            text="â–¶" />
                    <Button prefHeight="38" prefWidth="38" styleClass="player-control" text="â­" />
                </HBox>

                <!-- Control de volumen -->
                <HBox alignment="CENTER_RIGHT" prefWidth="180" spacing="8">
                    <Label style="-fx-font-size: 18px;" text="ðŸ”Š" />
                    <Slider prefWidth="100" style="-fx-background-color: transparent;" value="70" />
                </HBox>
            </HBox>
        </VBox>
    </bottom>
</BorderPane>