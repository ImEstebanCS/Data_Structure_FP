<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="co.edu.uniquindio.syncup.view.controllers.AdminPanelViewController"
            prefHeight="768.0" prefWidth="1366.0">

    <center>
        <StackPane>
            <!-- Imagen de fondo -->
            <ImageView fitHeight="830.0" fitWidth="1600.0" preserveRatio="false">
                <image>
                    <Image url="https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=1920&amp;h=1080&amp;fit=crop&amp;q=80"
                           backgroundLoading="true" smooth="true"/>
                </image>
            </ImageView>

            <!-- Overlay oscuro -->
            <Pane style="-fx-background-color: rgba(0, 0, 0, 0.85);" />

            <!-- Contenedor principal -->
            <HBox spacing="0">
                <!-- ==================== SIDEBAR ==================== -->
                <VBox prefWidth="280" spacing="0"
                      style="-fx-background-color: rgba(24, 24, 24, 0.95); -fx-border-color: #1DB954; -fx-border-width: 0 2 0 0;">

                    <!-- Logo -->
                    <VBox alignment="CENTER" spacing="10"
                          style="-fx-padding: 30 20 30 20; -fx-border-color: #282828; -fx-border-width: 0 0 1 0;">
                        <Label text="ðŸŽµ" style="-fx-font-size: 50px;"/>
                        <Label text="SyncUp"
                               style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #1DB954;"/>
                        <Label text="Panel de Administrador"
                               style="-fx-font-size: 12px; -fx-text-fill: #B3B3B3;"/>
                    </VBox>

                    <!-- MenÃº -->
                    <VBox spacing="5" style="-fx-padding: 20 15 20 15;" VBox.vgrow="ALWAYS">
                        <Button fx:id="dashboardBtn" text="ðŸ“Š Dashboard" onAction="#mostrarDashboard"
                                prefHeight="50" maxWidth="Infinity"
                                style="-fx-background-color: transparent; -fx-text-fill: #B3B3B3; -fx-font-size: 14px; -fx-font-weight: bold; -fx-alignment: center-left; -fx-padding: 15 20; -fx-background-radius: 8; -fx-cursor: hand;"/>

                        <Button fx:id="cancionesBtn" text="ðŸŽµ GestiÃ³n de Canciones" onAction="#mostrarCanciones"
                                prefHeight="50" maxWidth="Infinity"
                                style="-fx-background-color: transparent; -fx-text-fill: #B3B3B3; -fx-font-size: 14px; -fx-font-weight: bold; -fx-alignment: center-left; -fx-padding: 15 20; -fx-background-radius: 8; -fx-cursor: hand;"/>

                        <Button fx:id="usuariosBtn" text="ðŸ‘¥ GestiÃ³n de Usuarios" onAction="#mostrarUsuarios"
                                prefHeight="50" maxWidth="Infinity"
                                style="-fx-background-color: transparent; -fx-text-fill: #B3B3B3; -fx-font-size: 14px; -fx-font-weight: bold; -fx-alignment: center-left; -fx-padding: 15 20; -fx-background-radius: 8; -fx-cursor: hand;"/>

                        <Button fx:id="estadisticasBtn" text="ðŸ“ˆ EstadÃ­sticas" onAction="#mostrarEstadisticas"
                                prefHeight="50" maxWidth="Infinity"
                                style="-fx-background-color: transparent; -fx-text-fill: #B3B3B3; -fx-font-size: 14px; -fx-font-weight: bold; -fx-alignment: center-left; -fx-padding: 15 20; -fx-background-radius: 8; -fx-cursor: hand;"/>
                    </VBox>

                    <!-- Cerrar SesiÃ³n -->
                    <VBox spacing="10" style="-fx-padding: 15; -fx-border-color: #282828; -fx-border-width: 1 0 0 0;">
                        <Button text="ðŸšª Cerrar SesiÃ³n" onAction="#cerrarSesion" maxWidth="Infinity" prefHeight="50"
                                style="-fx-background-color: #E91429; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"/>
                    </VBox>
                </VBox>

                <!-- ==================== CONTENIDO ==================== -->
                <StackPane fx:id="contentArea" HBox.hgrow="ALWAYS">

                    <!-- DASHBOARD -->
                    <VBox fx:id="dashboardView" spacing="40" style="-fx-padding: 60;" alignment="CENTER">
                        <Label text="Dashboard - Panel de Control"
                               style="-fx-font-size: 38px; -fx-font-weight: bold; -fx-text-fill: #FFFFFF; -fx-effect: dropshadow(gaussian, #1DB954, 10, 0.7, 0, 0);"/>

                        <HBox spacing="30" alignment="CENTER">
                            <VBox alignment="CENTER" spacing="15"
                                  style="-fx-background-color: linear-gradient(to bottom right, #282828, #181818); -fx-background-radius: 20; -fx-padding: 40; -fx-pref-width: 250; -fx-pref-height: 220; -fx-effect: dropshadow(gaussian, rgba(29, 185, 84, 0.4), 15, 0, 0, 0);">
                                <Label text="ðŸŽµ" style="-fx-font-size: 50px; -fx-text-fill: #1DB954;"/>
                                <Label fx:id="totalCancionesLabel" text="0"
                                       style="-fx-text-fill: #1DB954; -fx-font-size: 48px; -fx-font-weight: bold;"/>
                                <Label text="Total Canciones"
                                       style="-fx-text-fill: #FFFFFF; -fx-font-size: 16px; -fx-font-weight: bold;"/>
                            </VBox>

                            <VBox alignment="CENTER" spacing="15"
                                  style="-fx-background-color: linear-gradient(to bottom right, #282828, #181818); -fx-background-radius: 20; -fx-padding: 40; -fx-pref-width: 250; -fx-pref-height: 220; -fx-effect: dropshadow(gaussian, rgba(29, 185, 84, 0.4), 15, 0, 0, 0);">
                                <Label text="ðŸ‘¥" style="-fx-font-size: 50px; -fx-text-fill: #1DB954;"/>
                                <Label fx:id="totalUsuariosLabel" text="0"
                                       style="-fx-text-fill: #1DB954; -fx-font-size: 48px; -fx-font-weight: bold;"/>
                                <Label text="Total Usuarios"
                                       style="-fx-text-fill: #FFFFFF; -fx-font-size: 16px; -fx-font-weight: bold;"/>
                            </VBox>

                            <VBox alignment="CENTER" spacing="15"
                                  style="-fx-background-color: linear-gradient(to bottom right, #282828, #181818); -fx-background-radius: 20; -fx-padding: 40; -fx-pref-width: 250; -fx-pref-height: 220; -fx-effect: dropshadow(gaussian, rgba(29, 185, 84, 0.4), 15, 0, 0, 0);">
                                <Label text="ðŸŽ¸" style="-fx-font-size: 50px; -fx-text-fill: #1DB954;"/>
                                <Label fx:id="generosLabel" text="0"
                                       style="-fx-text-fill: #1DB954; -fx-font-size: 48px; -fx-font-weight: bold;"/>
                                <Label text="GÃ©neros"
                                       style="-fx-text-fill: #FFFFFF; -fx-font-size: 16px; -fx-font-weight: bold;"/>
                            </VBox>
                        </HBox>

                        <Label text="Gestiona canciones, usuarios y visualiza estadÃ­sticas del sistema"
                               style="-fx-text-fill: #B3B3B3; -fx-font-size: 18px;"/>
                    </VBox>

                    <!-- CANCIONES -->
                    <VBox fx:id="cancionesView" spacing="25" style="-fx-padding: 40;" visible="false" managed="false">

                        <Label text="GestiÃ³n de Canciones"
                               style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #FFFFFF; -fx-effect: dropshadow(gaussian, #1DB954, 10, 0.7, 0, 0);"/>

                        <!-- Formulario -->
                        <VBox spacing="20" style="-fx-background-color: rgba(24, 24, 24, 0.95); -fx-background-radius: 15; -fx-padding: 30; -fx-border-color: #1DB954; -fx-border-width: 2; -fx-border-radius: 15; -fx-effect: dropshadow(gaussian, #1DB954, 15, 0.5, 0, 0);">

                            <Label text="InformaciÃ³n de la CanciÃ³n"
                                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1DB954; -fx-effect: dropshadow(gaussian, #deeee3, 8, 0.6, 0, 0);"/>

                            <HBox spacing="15">
                                <VBox spacing="8" HBox.hgrow="ALWAYS">
                                    <Label text="ID" style="-fx-text-fill: #FFFFFF; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                                    <TextField fx:id="idField" promptText="ID" prefHeight="45"
                                               styleClass="admin-textfield"/>
                                </VBox>
                                <VBox spacing="8" HBox.hgrow="ALWAYS">
                                    <Label text="TÃ­tulo" style="-fx-text-fill: #FFFFFF; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                                    <TextField fx:id="tituloField" promptText="TÃ­tulo de la canciÃ³n" prefHeight="45"
                                               styleClass="admin-textfield"/>
                                </VBox>
                                <VBox spacing="8" HBox.hgrow="ALWAYS">
                                    <Label text="Artista" style="-fx-text-fill: #FFFFFF; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                                    <TextField fx:id="artistaField" promptText="Nombre del artista" prefHeight="45"
                                               styleClass="admin-textfield"/>
                                </VBox>
                            </HBox>

                            <HBox spacing="15">
                                <VBox spacing="8" HBox.hgrow="ALWAYS">
                                    <Label text="GÃ©nero" style="-fx-text-fill: #FFFFFF; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                                    <TextField fx:id="generoField" promptText="GÃ©nero musical" prefHeight="45"
                                               styleClass="admin-textfield"/>
                                </VBox>
                                <VBox spacing="8" HBox.hgrow="ALWAYS">
                                    <Label text="AÃ±o" style="-fx-text-fill: #FFFFFF; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                                    <TextField fx:id="aÃ±oField" promptText="AÃ±o de lanzamiento" prefHeight="45"
                                               styleClass="admin-textfield"/>
                                </VBox>
                                <VBox spacing="8" HBox.hgrow="ALWAYS">
                                    <Label text="DuraciÃ³n" style="-fx-text-fill: #FFFFFF; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                                    <TextField fx:id="duracionField" promptText="DuraciÃ³n en segundos" prefHeight="45"
                                               styleClass="admin-textfield"/>
                                </VBox>
                            </HBox>

                            <!-- Botones -->
                            <HBox spacing="15" alignment="CENTER" style="-fx-padding: 10 0 0 0;">
                                <Button text="âž• Agregar" onAction="#agregarCancion" prefHeight="50" prefWidth="160"
                                        style="-fx-background-color: #1DB954; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"
                                        onMouseEntered="#agregarHoverEnter" onMouseExited="#agregarHoverExit"/>

                                <Button text="ðŸ”„ Actualizar" onAction="#actualizarCancion" prefHeight="50" prefWidth="160"
                                        style="-fx-background-color: #FFA500; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"
                                        onMouseEntered="#actualizarHoverEnter" onMouseExited="#actualizarHoverExit"/>

                                <Button text="ðŸ—‘ï¸ Eliminar" onAction="#eliminarCancion" prefHeight="50" prefWidth="160"
                                        style="-fx-background-color: #E91429; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"
                                        onMouseEntered="#eliminarHoverEnter" onMouseExited="#eliminarHoverExit"/>

                                <Button text="ðŸ§¹ Limpiar" onAction="#limpiarCamposCanciones" prefHeight="50" prefWidth="160"
                                        style="-fx-background-color: #404040; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"
                                        onMouseEntered="#limpiarHoverEnter" onMouseExited="#limpiarHoverExit"/>

                                <Button text="ðŸ“‚ Carga Masiva" onAction="#cargaMasiva" prefHeight="50" prefWidth="160"
                                        style="-fx-background-color: #FFA500; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"
                                        onMouseEntered="#cargaHoverEnter" onMouseExited="#cargaHoverExit"/>
                            </HBox>
                        </VBox>

                        <!-- Tabla -->
                        <VBox spacing="10">
                            <Label text="CatÃ¡logo de Canciones"
                                   style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #FFFFFF; -fx-effect: dropshadow(gaussian, #1DB954, 10, 0.7, 0, 0);"/>
                            <TableView fx:id="cancionesTable" prefHeight="300"
                                       style="-fx-background-color: rgba(24, 24, 24, 0.95); -fx-background-radius: 15; -fx-border-color: #1DB954; -fx-border-width: 2; -fx-border-radius: 15; -fx-effect: dropshadow(gaussian, #1DB954, 15, 0.5, 0, 0);"
                                       styleClass="styled-table">
                                <columns>
                                    <TableColumn fx:id="idColumn" text="ID" prefWidth="80"/>
                                    <TableColumn fx:id="tituloColumn" text="TÃ­tulo" prefWidth="300"/>
                                    <TableColumn fx:id="artistaColumn" text="Artista" prefWidth="250"/>
                                </columns>
                            </TableView>
                        </VBox>
                    </VBox>

                    <!-- USUARIOS -->
                    <VBox fx:id="usuariosView" spacing="25" style="-fx-padding: 40;" visible="false" managed="false">

                        <Label text="GestiÃ³n de Usuarios"
                               style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #FFFFFF; -fx-effect: dropshadow(gaussian, #1DB954, 10, 0.7, 0, 0);"/>

                        <!-- Formulario -->
                        <VBox spacing="20" style="-fx-background-color: rgba(24, 24, 24, 0.95); -fx-background-radius: 15; -fx-padding: 30; -fx-border-color: #1DB954; -fx-border-width: 2; -fx-border-radius: 15; -fx-effect: dropshadow(gaussian, #1DB954, 15, 0.5, 0, 0);">

                            <Label text="Datos del Usuario"
                                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1DB954; -fx-effect: dropshadow(gaussian, #deeee3, 8, 0.6, 0, 0);"/>

                            <HBox spacing="15">
                                <VBox spacing="8" HBox.hgrow="ALWAYS">
                                    <Label text="Username" style="-fx-text-fill: #FFFFFF; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                                    <TextField fx:id="usernameField" promptText="Username" prefHeight="45"
                                               styleClass="admin-textfield"/>
                                </VBox>
                                <VBox spacing="8" HBox.hgrow="ALWAYS">
                                    <Label text="ContraseÃ±a" style="-fx-text-fill: #FFFFFF; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                                    <PasswordField fx:id="passwordField" promptText="ContraseÃ±a" prefHeight="45"
                                                   styleClass="admin-textfield"/>
                                </VBox>
                                <VBox spacing="8" HBox.hgrow="ALWAYS">
                                    <Label text="Nombre" style="-fx-text-fill: #FFFFFF; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                                    <TextField fx:id="nombreUsuarioField" promptText="Nombre completo" prefHeight="45"
                                               styleClass="admin-textfield"/>
                                </VBox>
                            </HBox>

                            <!-- Botones -->
                            <HBox spacing="15" alignment="CENTER" style="-fx-padding: 10 0 0 0;">
                                <Button text="âž• Agregar Usuario" onAction="#agregarUsuario" prefHeight="50" prefWidth="220"
                                        style="-fx-background-color: #1DB954; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"
                                        onMouseEntered="#agregarUsuarioHoverEnter" onMouseExited="#agregarUsuarioHoverExit"/>

                                <Button text="ðŸ”„ Actualizar Usuario" onAction="#actualizarUsuario" prefHeight="50" prefWidth="220"
                                        style="-fx-background-color: #FFA500; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"
                                        onMouseEntered="#actualizarUsuarioHoverEnter" onMouseExited="#actualizarUsuarioHoverExit"/>

                                <Button text="ðŸ—‘ï¸ Eliminar Usuario" onAction="#eliminarUsuario" prefHeight="50" prefWidth="220"
                                        style="-fx-background-color: #E91429; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"
                                        onMouseEntered="#eliminarUsuarioHoverEnter" onMouseExited="#eliminarUsuarioHoverExit"/>

                                <Button text="ðŸ§¹ Limpiar" onAction="#limpiarCamposUsuarios" prefHeight="50" prefWidth="220"
                                        style="-fx-background-color: #404040; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"
                                        onMouseEntered="#limpiarUsuarioHoverEnter" onMouseExited="#limpiarUsuarioHoverExit"/>
                            </HBox>
                        </VBox>

                        <!-- Tabla -->
                        <VBox spacing="10">
                            <Label text="Usuarios Registrados"
                                   style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #FFFFFF; -fx-effect: dropshadow(gaussian, #1DB954, 8, 0.6, 0, 0);"/>
                            <TableView fx:id="usuariosTable" prefHeight="300"
                                       style="-fx-background-color: rgba(24, 24, 24, 0.95); -fx-background-radius: 15; -fx-border-color: #1DB954; -fx-border-width: 2; -fx-border-radius: 15; -fx-effect: dropshadow(gaussian, #1DB954, 15, 0.5, 0, 0);"
                                       styleClass="styled-table">
                                <columns>
                                    <TableColumn fx:id="usernameColumn" text="Username" prefWidth="300"/>
                                    <TableColumn fx:id="nombreColumn" text="Nombre" prefWidth="400"/>
                                </columns>
                            </TableView>
                        </VBox>
                    </VBox>

                    <!-- ESTADÃSTICAS -->
                    <VBox fx:id="estadisticasView" spacing="40" style="-fx-padding: 60;" alignment="CENTER" visible="false" managed="false">
                        <Label text="EstadÃ­sticas del Sistema"
                               style="-fx-font-size: 38px; -fx-font-weight: bold; -fx-text-fill: #FFFFFF; -fx-effect: dropshadow(gaussian, #1DB954, 10, 0.7, 0, 0);"/>

                        <VBox fx:id="estadisticasContainer" spacing="30" alignment="CENTER"/>
                    </VBox>
                </StackPane>
            </HBox>
        </StackPane>
    </center>
</BorderPane>
